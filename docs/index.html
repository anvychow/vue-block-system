<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>vue-block-system</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">vue-block-system</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> vue-block-system</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p><a href="https://travis-ci.org/larsvanbraam/vue-block-system"><img src="https://img.shields.io/travis/larsvanbraam/vue-block-system.svg?maxAge=2592000" alt="Travis"></a>
					<a href="https://codeclimate.com/github/larsvanbraam/vue-block-system"><img src="https://img.shields.io/codeclimate/github/larsvanbraam/vue-block-system.svg?maxAge=2592000" alt="Code Climate"></a>
					<a href="https://www.npmjs.com/package/vue-block-system"><img src="https://img.shields.io/npm/dm/vue-block-system.svg?maxAge=2592000" alt="npm"></a>
				<a href="https://github.com/larsvanbraam/vue-block-system/issues"><img src="https://img.shields.io/github/issues/larsvanbraam/vue-block-system.svg?style=flat-square" alt="GitHub issues"></a></p>
				<h1 id="vue-block-system">vue-block-system</h1>
				<p>Easily create block based websites! </p>
				<p>The block system uses the vue-transition-component to handle all component transitions. If you want to read more about this see the <a href="https://larsvanbraam.github.io/vue-transition-component/">documentation</a>. All blocks are transitioned when they enter the viewport. This is done using the <a href="https://mediamonks.github.io/seng-scroll-tracker/">seng-scroll-tracker</a>. </p>
				<h2 id="table-of-contents">Table of contents</h2>
				<ol>
					<li><a href="#installation">Installation</a></li>
					<li><a href="#setup-for-usage">Usage</a><ol>
							<li><a href="#step-1:-enable-the-plugin">Step 1: Enable the plugin</a></li>
							<li><a href="#step-2:-creating-a-wildcard-route-&amp;-content-page">Step 2: Creating a wildcard route &amp; content page</a></li>
							<li><a href="#step-3:-generating-a-block">Step 3: Generating a block</a></li>
						</ol>
					</li>
					<li><a href="#building">Building</a></li>
					<li><a href="#authors">Authors</a></li>
					<li><a href="#contribute">Contribute</a></li>
					<li><a href="#license">License</a></li>
				</ol>
				<h2 id="installation">Installation</h2>
				<h3 id="yarn-npm">yarn / npm</h3>
				<pre><code class="lang-sh">yarn add vue-block-system
</code></pre>
				<pre><code class="lang-sh">npm i -S vue-block-system
</code></pre>
				<h2 id="global-note-">Global note:</h2>
				<p>All examples below are based on the <a href="https://github.com/hjeti/vue-skeleton">vue-skeleton</a> by <a href="https://github.com/hjeti/">hjeti</a>. </p>
				<h2 id="usage">Usage</h2>
				<p>To use the block system there are a couple of steps to follow:</p>
				<h3 id="step-1-enable-the-plugin">Step 1: Enable the plugin</h3>
				<p>To start using the block system you have to enable the Vue plugin in the <code>src/control/startUp.js</code> file</p>
				<pre><code class="lang-typescript"><span class="hljs-keyword">import</span> BlockSystem <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-block-system'</span>;
<span class="hljs-keyword">import</span> block <span class="hljs-keyword">from</span> <span class="hljs-string">'block'</span>;

...
Vue.use(BlockSystem, {
        store,
        block,
        config: {
            api: {
                pageCall: <span class="hljs-string">'static/api/page/{page}.json'</span>,
                initCall: <span class="hljs-string">'static/api/init.json'</span>,
            },
            debugLabelStyling: {
                backgroundColor: <span class="hljs-string">'blue'</span>,
            },
        },
    });
...
</code></pre>
				<h4 id="store">Store</h4>
				<p>The store option is the reference to the vuex store.</p>
				<h4 id="block">Block</h4>
				<p>The block option is the collection of blocks components that can be used on the page. Create a folder called <strong>block</strong> in the root of your applications src directory (<code>src/block</code>). This file should contain an <code>index.js</code> file that exports the block components just like any other component.</p>
				<pre><code class="lang-typescript"><span class="hljs-keyword">import</span> BlockBar <span class="hljs-keyword">from</span> <span class="hljs-string">'./BlockBar'</span>;
<span class="hljs-keyword">import</span> BlockFoo <span class="hljs-keyword">from</span> <span class="hljs-string">'./BlockFoo'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    BlockBar,
    BlockFoo,
};
</code></pre>
				<h4 id="config">Config</h4>
				<p>The config object contains the configuration for the block-system</p>
				<h5 id="api-configuration">API configuration</h5>
				<p>The block system uses axios to do XHR requests, there are two types of requests that will be made. The first one is the <code>initCall</code>, this call should return at all the basic information that is required for the site to work. </p>
				<pre><code class="lang-json">{
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"routes"</span>: {
            <span class="hljs-attr">"landing"</span>: <span class="hljs-string">"/home"</span>,
            <span class="hljs-attr">"notFound"</span>: <span class="hljs-string">"/page-not-found"</span>
        }
    }
}
</code></pre>
				<p>After the init call is completed the block-system will try and load the page layout using the <code>pageCall</code>. The response should be in the following stucture.</p>
				<pre><code class="lang-json">{
    <span class="hljs-attr">"statusCode"</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Home"</span>,
        <span class="hljs-attr">"data"</span>: {
            <span class="hljs-attr">"headerTheme"</span>: <span class="hljs-string">"red"</span>
        },
        <span class="hljs-attr">"blocks"</span>: [
            {
                <span class="hljs-attr">"id"</span>: <span class="hljs-string">"blockFoo"</span>,
                <span class="hljs-attr">"data"</span>: {}
            },
            {
                <span class="hljs-attr">"id"</span>: <span class="hljs-string">"blockBar"</span>,
                <span class="hljs-attr">"data"</span>: {
                    <span class="hljs-attr">"blocks"</span>: [
                        {
                            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"blockFoo"</span>,
                            <span class="hljs-attr">"data"</span>: {}
                        }
                    ]
                }
            }
        ]
    }
}
</code></pre>
				<p>As you can see the root contains the main information about the page. The title being the title displayed in the tab-bar and the data is extra page related data that you might need on page level coding. After the data the array of blocks is provided and as you can see blocks can be recursively nested. You can see more about this on the block example section</p>
				<h5 id="debug-label-configuration">Debug label configuration</h5>
				<p>Since your site might have a lot of different blocks nested within each other it might be usefull to display their name so you can easily track them in your block folder. Therefore the debug label was added, by default the debug label is located at the top left corner in red with white text. If you want to change any of this styling you can use this object to add all your CSS styling.</p>
				<h3 id="step-2-creating-a-wildcard-route-content-page">Step 2: Creating a wildcard route &amp; content page</h3>
				<p>Since the entire layout will be generated by either a static json file or a dynamic backend we need to frontend to work with a wildcard route that always ends up at the same vue page. You can do this by generating a content page with the <a href="https://github.com/mediamonks/seng-generator">seng-generator</a>. I&#39;ve included a template folder that contains the files for generating this page. After you&#39;ve went through the installation steps of the seng-generator you can add the new template path with the following actions:</p>
				<pre><code class="lang-sh">sg init
</code></pre>
				<p>This will allow you to change the settings, you can provide multiple paths as a template, make sure you keep the original value and add this path to the block-system templates. Leave the destination as it is.</p>
				<pre><code class="lang-sh">./template,./node_modules/block-system/template
</code></pre>
				<h4 id="rendering-the-content-page">Rendering the content page</h4>
				<p>After you&#39;ve added the templates to the seng-generator you can run:</p>
				<pre><code class="lang-sh">sg wizard
</code></pre>
				<p>from the root of your project. This will give you a couple of template options, choose the that is named <code>block-content-page</code>, the seng-generator will now prompt you with a name for your new page. I would suggest <code>ContentPage</code> to keep it as generic as possible. </p>
				<h4 id="adding-the-wildcard-route">Adding the wildcard route</h4>
				<p>You now need to add the new page to the vue router. You can open the <code>src/router/routes.js</code> file and add the new page to the object</p>
				<pre><code class="lang-typescript"><span class="hljs-keyword">import</span> ContentPage <span class="hljs-keyword">from</span> <span class="hljs-string">'page/ContentPage'</span>;

...
{
    path: Pages.CONTENT_PAGE,
    component: ContentPage,
    name: PageNames.CONTENT_PAGE,
    props: { componentId: PageNames.CONTENT_PAGE },
}
...
</code></pre>
				<p>Make sure the path for the new page is set to * when you open the <code>src/data/enum/Pages.js</code> file.</p>
				<pre><code class="lang-typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    CONTENT_PAGE: <span class="hljs-string">'*'</span>,
};
</code></pre>
				<p>If you open op the <code>src/page/ContentPage/ContentPage.vue</code> file you can see where the magic happens. here you can disable the debug label if you want to.</p>
				<h3 id="step-3-generating-a-block">Step 3: Generating a block</h3>
				<p>Creating blocks is just as easy as generating the content page, just run</p>
				<pre><code class="lang-sh">sg wizard
</code></pre>
				<p>from the root of your project. This will give you a couple of template options, choose the one that is named: <code>block-component</code> and choose your desired name, I would suggest starting blocks with the <code>Block</code> prefix. </p>
				<p><em>Note: make sure to add the newly generated block to the <code>src/block/index.js</code></em></p>
				<h4 id="nesting-blocks-within-blocks">Nesting blocks within blocks</h4>
				<p>If you want to nest blocks within other blocks you need to add some code to your parent block. This will make sure it will render out the child blocks, this should be pretty much plug and play!</p>
				<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">component</span>
    <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(block, index) in data.blocks"</span>
    @<span class="hljs-attr">isReady</span>=<span class="hljs-string">"handleBlockComponentReady"</span>
    <span class="hljs-attr">:scrollId</span>=<span class="hljs-string">"block.scrollId"</span>
    <span class="hljs-attr">:data</span>=<span class="hljs-string">"block.data"</span>
    <span class="hljs-attr">:debugLabel</span>=<span class="hljs-string">"true"</span>
    <span class="hljs-attr">:is</span>=<span class="hljs-string">"block.id"</span>
    <span class="hljs-attr">:componentId</span>=<span class="hljs-string">"block.id + '.' + block.blockIndex"</span>
    <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
</code></pre>
				<h2 id="building">Building</h2>
				<p>In order to build vue-block-system, ensure that you have <a href="http://git-scm.com/downloads">Git</a> and <a href="http://nodejs.org/">Node.js</a> installed.</p>
				<p>Clone a copy of the repo:</p>
				<pre><code class="lang-sh">git <span class="hljs-built_in">clone</span> https://github.com/larsvanbraam/vue-block-system.git
</code></pre>
				<p>Change to the vue-block-system directory:</p>
				<pre><code class="lang-sh"><span class="hljs-built_in">cd</span> vue-block-system
</code></pre>
				<p>Install dev dependencies:</p>
				<pre><code class="lang-sh">yarn
</code></pre>
				<p>Use one of the following main scripts:</p>
				<pre><code class="lang-sh">yarn build           <span class="hljs-comment"># build this project</span>
yarn dev             <span class="hljs-comment"># run dev-watch mode, serving example/index.html in the browser</span>
yarn generate        <span class="hljs-comment"># generate all artifacts (compiles ts, webpack, docs and coverage)</span>
yarn <span class="hljs-built_in">test</span>:unit       <span class="hljs-comment"># run the unit tests</span>
yarn validate        <span class="hljs-comment"># runs validation scripts, including test, lint and coverage check</span>
yarn lint            <span class="hljs-comment"># run tslint on this project</span>
yarn doc             <span class="hljs-comment"># generate typedoc documentation</span>
</code></pre>
				<p>When installing this module, it adds a pre-push hook, that runs the <code>validate</code>
				script before committing, so you can be sure that everything checks out.</p>
				<p>If you want to create the distribution files yourself, you can run the
					<code>build-dist</code> script, and the following files will get generated in the
				<code>dist</code> folder:</p>
				<ul>
					<li><strong>/dist/vue-block-system.js</strong>: bundled with webpack, can be loaded from
					a script tag, available as <code>window.SengScrollTracker</code></li>
					<li><strong>/dist/vue-block-system.min.js</strong>: same as above, but minified</li>
					<li><strong>/dist/vue-block-system-amd.js</strong>: bundled with webpack, can be used
					with e.g. requirejs</li>
					<li><strong>/dist/vue-block-system-commonjs.js</strong>: bundled with webpack, can be
					used in systems that support commonjs, but you should just use npm</li>
					<li><strong>/dist/vue-block-system-umd.js</strong>: bundled with webpack, works in the
					browser, with requirejs, and in a commonjs system</li>
					<li><strong>/dist/vue-block-system-umd.min.js</strong>: same as above, but minified</li>
					<li><strong>/dist/vue-block-system-system.js</strong>: bundled with typescript, can be
					used in systems    that support systemjs</li>
					<li><strong>/dist/vue-block-system-es6.zip</strong>: transpiled with typescript, only
					types are removed from the source files</li>
				</ul>
				<h2 id="authors">Authors</h2>
				<p>View <a href="./AUTHORS.md">AUTHORS.md</a></p>
				<h2 id="contribute">Contribute</h2>
				<p>View <a href="./CONTRIBUTING.md">CONTRIBUTING.md</a></p>
				<h2 id="license">License</h2>
				<p><a href="./LICENSE">MIT</a> © Lars van Braam</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/blockhelper.html" class="tsd-kind-icon">Block<wbr>Helper</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/pagelayouthelper.html" class="tsd-kind-icon">Page<wbr>Layout<wbr>Helper</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/iabstractblockcomponent.html" class="tsd-kind-icon">IAbstract<wbr>Block<wbr>Component</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/iblock.html" class="tsd-kind-icon">IBlock</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ipagelayout.html" class="tsd-kind-icon">IPage<wbr>Layout</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#add_unknown_url" class="tsd-kind-icon">ADD_<wbr>UNKNOWN_<wbr>URL</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#initnamespace" class="tsd-kind-icon">Init<wbr>Namespace</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#layoutnamespace" class="tsd-kind-icon">Layout<wbr>Namespace</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#set_cached_layout" class="tsd-kind-icon">SET_<wbr>CACHED_<wbr>LAYOUT</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#set_layout" class="tsd-kind-icon">SET_<wbr>LAYOUT</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#set_routes" class="tsd-kind-icon">SET_<wbr>ROUTES</a>
					</li>
					<li class=" tsd-kind-object-literal">
						<a href="globals.html#initmutationtypes" class="tsd-kind-icon">Init<wbr>Mutation<wbr>Types</a>
					</li>
					<li class=" tsd-kind-object-literal">
						<a href="globals.html#layoutmutationtypes" class="tsd-kind-icon">Layout<wbr>Mutation<wbr>Types</a>
					</li>
					<li class=" tsd-kind-object-literal">
						<a href="globals.html#config" class="tsd-kind-icon">config</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>